// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../../src/interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"6080806040523461001657611c65908161001c8239f35b600080fdfe6080604090808252600491823610156200001857600080fd5b600091823560e01c908163092af813146200095a575080631ddef5b914620008a85780632c27a01f146200086d5780634bddd93a146200075b5780635cabcdf7146200068857806361be4859146200062e57806366b0182d146200052957806374912cd214620004aa578063775c300c1462000431578063aa4b826a1462000353578063b31d1b9914620002ea578063b7fba4d314620002ac578063b9678403146200014b5763ffa1ad7414620000ce57600080fd5b3462000147578160031936011262000147578051918183019083821067ffffffffffffffff8311176200013457506200013093508152600c82526b342e302e302d626574612e3560a01b60208301525191829160208352602083019062000dbb565b0390f35b634e487b7160e01b815260418552602490fd5b5080fd5b508234620002a85760209182600319360112620002a4576001600160a01b03823581811694919390859003620002a05733865260068252838387205416156200028957825163ecdb286560e01b815286818381838a5af19081156200027f57879162000258575b508051918215620002415750865b828110620001fe575050506006903386525283205416337f9638c85f58d5866b4eb299b2e5f8f366372bd58e2d6e6e6eb19f3462948f33878480a480f35b33885260058452848820600191906001600160e01b031962000221838662000f60565b51168a52855285892080546001600160a01b0319168917905501620001c0565b845163b74066bb60e01b8152908101879052602490fd5b6200027891503d8089833e6200026f818362000d98565b81019062000ec9565b87620001b2565b84513d89823e3d90fd5b60249083519063963e961b60e01b82523390820152fd5b8580fd5b8380fd5b8280fd5b50346200014757602036600319011262000147576020916001600160a01b0390829082620002d962000cc6565b168152600685522054169051908152f35b508234620002a8576060366003190112620002a8578160209360ff926200031062000cc6565b6200031a62000ce2565b6200032462000cf9565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b508234620002a8576060366003190112620002a8576200037262000cc6565b916200037d62000ce2565b90604435801515809103620002a057338652600660209081528287205490946001600160a01b03918216156200041a57907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b60249084519063963e961b60e01b82523390820152fd5b509034620004a75780600319360112620004a7573381526006602052819020546001600160a01b0390811692836200047a5760208383620004723362000f8b565b915191168152f35b91516356352f0b60e11b8152339281019283526001600160a01b0390931660208301525081906040010390fd5b80fd5b508234620002a8576020366003190112620002a8578190620004cb62000cc6565b6001600160a01b03808216865260066020529290942054821680620004f95750506200047260209362000f8b565b92516356352f0b60e11b81526001600160a01b039485169181019182529390921660208301525081906040010390fd5b5034620001475781600319360112620001475760018060a01b0391828154169160019384541693815192809160025491620005648362000d28565b80875292828116908115620005ff5750600114620005b0575b5050508291620005966200013094606093038462000d98565b805195869586526020860152840152606083019062000dbb565b92506002835260008051602062001c458339815191525b828410620005e65750505082016020018162000596620001306200057d565b80546020858801810191909152909301928101620005c7565b60ff191660208089019190915293151560051b870190930193508492506200059691506200013090506200057d565b50346200014757806003193601126200014757602091816200064f62000cc6565b916200065a62000d10565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b509034620004a7576060366003190112620004a757620006a762000cc6565b620006b162000ce2565b90620006bc62000cf9565b91845195638da5cb5b60e01b87526020968781838160018060a01b038098165afa908115620007515791848896949288969460ff99916200071d575b5016855288528185852091168452875283832091168252855220541690519015158152f35b6200074291508b3d8d1162000749575b62000739818362000d98565b81019062000dfd565b38620006f8565b503d6200072d565b87513d88823e3d90fd5b508234620002a85760209182600319360112620002a4576001600160a01b03823581811694919390859003620002a05733865260068252838387205416156200028957825163ecdb286560e01b815286818381838a5af19081156200027f5787916200084f575b508051918215620002415750865b8281106200080e575050506006903386525283205416337f381d2d67cec77a56c13de6658effae4585e49ae536458929d53bfd4c3599e0ad8480a480f35b33885260058452848820600191906001600160e01b031962000831838662000f60565b51168a52855285892080546001600160a01b031916905501620007d0565b6200086691503d8089833e6200026f818362000d98565b87620007c2565b503462000147576020366003190112620001475760209181906001600160a01b036200089862000cc6565b1681526003845220549051908152f35b509034620004a75781600319360112620004a757620008c662000cc6565b90620008d162000d10565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa908115620009505783929185918795916200092e575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b620009499150883d8a11620007495762000739818362000d98565b3862000909565b85513d85823e3d90fd5b84838534620004a75781600319360112620004a7576200097962000cc6565b9267ffffffffffffffff918260243511620004a757366023602435011215620004a75760243582013591838311620001475736602484813501011162000147573382526006602052848220546001600160a01b03979088168062000c9d57505032808352600360209081528684205487519182019283526040808301829052825295919062000a0a60608262000d98565b519020938887519862000a1d8a62000d65565b338a5216602089015283602088519262000a4182601f19601f840116018562000d98565b8084528060248035018386013783010152808789015262000a96896020818b51169a6001600160601b0360a01b9b8c89541617885501511660018060a01b03166001600160601b0360a01b6001541617600155565b80519082821162000c8a57819062000ab060025462000d28565b601f811162000c3d575b50602090601f831160011462000bc657869262000bba575b50508160011b916000199060031b1c1916176002555b8551916109f190818401928484109084111762000ba757509180918593620012548339039083f595861562000b9b57602096169462000b2662000e37565b33808352600688528583208054929092168717909155328083526003885291859020600185019055845193845260208401929092526001600160a01b038516604084015290918291907f6aafca263a35a9d2a6e4e4659a84688092f4ae153df2f95cd7659508d95c187090606090a451908152f35b508351903d90823e3d90fd5b634e487b7160e01b855260419052602484fd5b015190508a8062000ad2565b6002875260008051602062001c458339815191529250601f198416875b81811062000c24575090846001959493921062000c0a575b505050811b0160025562000ae8565b015160001960f88460031b161c191690558a808062000bfb565b9293602060018192878601518155019501930162000be3565b62000c78906002885260008051602062001c45833981519152601f850160051c8101916020861062000c7f575b601f0160051c019062000e1e565b8b62000aba565b909150819062000c6a565b634e487b7160e01b855260418452602485fd5b6356352f0b60e11b8252339282019283526001600160a01b031660208301529081906040010390fd5b600435906001600160a01b038216820362000cdd57565b600080fd5b602435906001600160a01b038216820362000cdd57565b604435906001600160a01b038216820362000cdd57565b602435906001600160e01b03198216820362000cdd57565b90600182811c9216801562000d5a575b602083101462000d4457565b634e487b7160e01b600052602260045260246000fd5b91607f169162000d38565b6060810190811067ffffffffffffffff82111762000d8257604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111762000d8257604052565b919082519283825260005b84811062000de8575050826000602080949584010152601f8019910116010190565b60208183018101518483018201520162000dc6565b9081602091031262000cdd57516001600160a01b038116810362000cdd5790565b81811062000e2a575050565b6000815560010162000e1e565b6000808055600181815562000e4e60025462000d28565b908162000e5a57505050565b601f821160011462000e6d575050600255565b60028352601f60008051602062001c45833981519152920160051c82017f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b81811062000ebe575050508160025555565b848155820162000eac565b90602090818382031262000cdd57825167ffffffffffffffff9384821162000cdd570181601f8201121562000cdd57805193841162000d82578360051b906040519462000f198584018762000d98565b8552838086019282010192831162000cdd578301905b82821062000f3e575050505090565b81516001600160e01b03198116810362000cdd57815290830190830162000f2f565b805182101562000f755760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b326000818152600360209081526040808320548151808401958652808301829052828152601f19979695939491939062000fc760608262000d98565b5190209382519562000fd98762000d65565b6001600160a01b039081168088528288018481528551909a919867ffffffffffffffff9290828601848111848210176200123f5785620010549281928b52898652858b82015251169d6001600160601b0360a01b9e8f8a5416178955511660018060a01b03166001600160601b0360a01b6001541617600155565b8151918383116200122b579082916200106f60025462000d28565b601f8111620011eb575b508691601f841160011462001179575087926200116d575b50508160011b916000199060031b1c1916176002555b8451906109f18083019182118383101762001159579180918993620012548339039085f580156200114f5716977f6aafca263a35a9d2a6e4e4659a84688092f4ae153df2f95cd7659508d95c18709392916003916200110562000e37565b888452600682528484208054919091168b1790553280845291905290829020600185019055905192835260208301939093526001600160a01b0386166040830152339291606090a4565b84513d85823e3d90fd5b634e487b7160e01b86526041600452602486fd5b01519050388062001091565b6002895260008051602062001c458339815191529316885b88828210620011d4575050908460019594939210620011ba575b505050811b01600255620010a7565b015160001960f88460031b161c19169055388080620011ab565b600185968293968601518155019501930162001191565b620012249060028a5260008051602062001c45833981519152601f860160051c8101918a871062000c7f57601f0160051c019062000e1e565b3862001079565b634e487b7160e01b87526041600452602487fd5b634e487b7160e01b88526041600452602488fdfe60c08060405234620000ca573360a0526366b0182d60e01b8152600081600481335afa8015620000c4576000809281926200009b575b506080526001600160a01b03821662000087575b60405161068e9081620003638239608051818181610192015281816102c401526104a5015260a05181818161014d0152818161031301526105250152f35b6200009291620002b2565b50388062000049565b909150620000bb92503d8092823e620000b482620000e5565b016200018e565b90913862000035565b62000221565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010c57604052565b620000cf565b601f909101601f19168101906001600160401b038211908210176200010c57604052565b60e051906001600160a01b0382168203620000ca57565b6001600160401b0381116200010c57601f01601f191660200190565b60005b8381106200017d5750506000910152565b81810151838201526020016200016c565b606060bf19820112620000ca5760c0516001600160a01b0381168103620000ca5791620001ba62000136565b610100519092906001600160401b038111620000ca578160df82011215620000ca578060c00151620001ec816200014d565b92620001fc604051948562000112565b81845260e08284010111620000ca576200021e9160e060208501910162000169565b90565b6040513d6000823e3d90fd5b3d156200025d573d9062000241826200014d565b9162000251604051938462000112565b82523d6000602084013e565b606090565b906020916200027d8151809281855285808601910162000169565b601f01601f1916010190565b9091620002a36200021e9360408452604084019062000262565b91602081840391015262000262565b9190823b156200034157600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f46200022d565b60405190956001600160a01b0316928190620003139088908362000289565b0390a2156200031e57565b508051156200032f57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d366102b5565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba8560248501866104a2565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de5751610134816100cd565b6040513d6000823e3d90fd5b908160008237016000815290565b67ffffffffffffffff81116101f957601f01601f191660200190565b3d15610274573d9061025a8261022d565b9161026860405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526001600160e01b03196000351660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561044e5760009461041e575b5083169182156103e357505060008060405180610362818961021f565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f610391610249565b80966103a260405192839283610279565b0390a2156103ad5750565b8251909150156103c05750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b61044091945060203d8111610447575b61043881836101d7565b8101906101fe565b9238610345565b503d61042e565b610213565b908160209103126100de575180151581036100de5790565b9291926104778261022d565b9161048560405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036104ee575b505061013492916104e891369161046b565b906105e5565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561044e57600091610592575b501561056257806104d6565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b6105b3915060203d81116105b9575b6105ab81836101d7565b810190610453565b38610556565b503d6105a1565b90916105d7610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066d57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990610624610249565b60405190956001600160a01b0316928190610641908890836105c0565b0390a21561064b57565b5080511561065b57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
